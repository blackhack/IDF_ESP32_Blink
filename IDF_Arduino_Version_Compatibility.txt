Using Arduino as a component of IDF is extremely sensitive to version compatibility. Therefore, I will state the latest versions that, at the time of testing, are known to work:

IDF: 5.3.2 (https://github.com/espressif/esp-idf/releases/tag/v5.3.2)
Arduino: 3.1.1 (https://github.com/espressif/arduino-esp32/releases/tag/3.1.1)
